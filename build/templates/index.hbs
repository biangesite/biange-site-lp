<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€äºŒèƒ¡æ¼”å¥å®¶ã€‘BIAN GE ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã‚µã‚¤ãƒˆ</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Noto+Serif+JP:wght@700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js"></script>
</head>
<body>

{{#if (includes backgroundType "å‹•ç”»ã‚’ä½¿ç”¨")}}
    <div id="background-visual">
        <video autoplay muted loop playsinline preload="auto">
            <source src="public/videos/background.mp4" type="video/mp4">
        </video>
    </div>
{{else}}
    <div id="background-visual" style="background-image: url('{{keyVisualImage.url}}');"></div>
{{/if}}

    <div id="content-wrapper">

        <header>
            <div id="header-logo" data-aos="fade-down">BIAN GE</div>
            <button id="nav-toggle" onclick="toggleNav()">â‰¡</button>

            <nav id="main-nav">
                <ul>
                    <li><a href="#top" onclick="closeNav()">TOP</a></li>
                    <li><a href="#news" onclick="closeNav()">NEWS</a></li>
                    <li><a href="#live" onclick="closeNav()">LIVE</a></li>
                    <li><a href="#lesson" onclick="closeNav()">LESSON</a></li>
                    <li><a href="#profile" onclick="closeNav()">PROFILE</a></li>
                    <li><a href="#contact" onclick="closeNav()">CONTACT</a></li>
                    <li><a href="#gallery" onclick="closeNav()">GALLERY</a></li>
                </ul>
            </nav>
        </header>

        <section id="top" class="full-height-section">
            <div class="key-visual-text">
                {{#unless (includes keyTitleStyle 'hidden')}}
                <h1 class="key-title" data-aos="fade-up" data-aos-duration="2000" style="{{applyStyle keyTitleStyle 'keyTitle'}}">
                    {{keyTitle}}
                </h1>
                {{/unless}}
                
                {{#unless (includes artistNameStyle 'hidden')}}
                <span class="artist-name" data-aos="fade-up" data-aos-duration="2000" style="{{applyStyle artistNameStyle 'artistName'}}">{{artistName}}</span>
                {{/unless}}
            </div>
        </section>

        <section id="news" class="content-section" data-aos="fade-up">
            <h2>NEWS UPDATES</h2>
            <div id="news-list">
{{#each news}}
        <div class="news-accordion accordion-no-border">
            <div class="news-item-header" onclick="toggleAccordion('news-detail-{{@index}}')">
                <span class="news-category {{newsCategoryClass newsCategory}}">{{#if (isArray newsCategory)}}{{firstItem newsCategory}}{{else}}{{newsCategory}}{{/if}}</span>
                <p class="news-item">{{formatDate newsDate}}ã€€{{newsTitle}}</p>
                <span class="accordion-icon">â–¼</span>
            </div>
            <div id="news-detail-{{@index}}" class="news-item-detail" style="{{applyStyle newsDetailStyle 'newsDetail'}}">
                {{{nl2br newsDetail}}}
            </div>
        </div>
        {{/each}}
    </div>
        </section>

<section id="live" class="content-section" data-aos="fade-up">
    <h2>UPCOMING LIVE</h2>
    <div id="live-schedule" class="live-schedule-container">
        {{#if latestLive}}
        <div class="live-event-featured">
            <!-- ãƒ•ãƒ©ã‚¤ãƒ¤ãƒ¼ç”»åƒï¼ˆä¸Šéƒ¨ï¼‰ -->
            <div class="live-featured-image">
                <img src="{{latestLive.liveFlyer1.url}}" alt="{{latestLive.liveEventsTitle}}">
            </div>
            
            <!-- ãƒ©ã‚¤ãƒ–è©³ç´°æƒ…å ± -->
            <div class="live-featured-content">
                <span class="ticket-badge {{ticketBadgeClass latestLive.ticketStatus}}">
                    {{#if (isArray latestLive.ticketStatus)}}{{firstItem latestLive.ticketStatus}}{{else}}{{latestLive.ticketStatus}}{{/if}}
                </span>
                <h3>{{formatDate latestLive.liveEventsDate}}ã€€{{latestLive.liveEventsTitle}}</h3>
                <p>{{latestLive.venue}}</p>
                <p>é–‹å ´ {{latestLive.openTime}} / é–‹æ¼” {{latestLive.startTime}}</p>
                <p>å‰å£² Â¥{{latestLive.ticketPriceadv}} / å½“æ—¥ Â¥{{latestLive.ticketPrice}}</p>
                
                <!-- ã‚»ãƒƒãƒˆãƒªã‚¹ãƒˆè¡¨ç¤ºåˆ¶å¾¡ -->
                {{#if latestLive.isFinished}}
                    {{#if latestLive.fullSetList}}
                    <div class="setlist-section">
                        <h4>ã‚»ãƒƒãƒˆãƒªã‚¹ãƒˆï¼ˆå…¨æ›²ï¼‰</h4>
                        <p>{{{nl2br latestLive.fullSetList}}}</p>
                    </div>
                    {{else if latestLive.setList}}
                    <div class="setlist-section">
                        <h4>ã‚»ãƒƒãƒˆãƒªã‚¹ãƒˆ</h4>
                        <p>{{{nl2br latestLive.setList}}}</p>
                    </div>
                    {{/if}}
                {{else}}
                    {{#if latestLive.setList}}
                    <div class="setlist-section">
                        <h4>æ¼”å¥äºˆå®šæ›²</h4>
                        <p>{{{nl2br latestLive.setList}}}</p>
                    </div>
                    {{/if}}
                {{/if}}
                
                <!-- æ¼”å¥è€…æƒ…å ± -->
                {{#if latestLive.livePerformers}}
                <div class="performers-section">
                    <h4>æ¼”å¥è€…</h4>
                    <div class="performers-grid">
                        {{#each latestLive.livePerformers}}
                        <div class="performer-card">
                            {{#if performerImage}}
                            <img src="{{performerImage.url}}" alt="{{performerName}}">
                            {{/if}}
                            <p class="performer-name">{{performerName}}</p>
                            <p class="performer-part">
                                {{#if (isArray performerPart)}}
                                    {{#each performerPart}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}
                                {{else}}
                                    {{performerPart}}
                                {{/if}}
                            </p>
                        </div>
                        {{/each}}
                    </div>
                </div>
                {{/if}}
            </div>
        </div>
        {{else}}
        <p class="no-live-message">ç¾åœ¨ã€äºˆå®šã•ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–æƒ…å ±ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        {{/if}}
    </div>
</section>

        <section id="lesson" class="content-section" data-aos="fade-up">
    <h2>{{lesson.lessonKeyTitle}}</h2>
    
    <!-- ãƒ¬ãƒƒã‚¹ãƒ³é¢¨æ™¯ç”»åƒ -->
    {{#if lesson.lessonImage1}}
    <div class="lesson-images">
        <img src="{{lesson.lessonImage1.url}}" alt="ãƒ¬ãƒƒã‚¹ãƒ³é¢¨æ™¯1" class="lesson-image">
        {{#if lesson.lessonImage2}}
        <img src="{{lesson.lessonImage2.url}}" alt="ãƒ¬ãƒƒã‚¹ãƒ³é¢¨æ™¯2" class="lesson-image">
        {{/if}}
        {{#if lesson.lessonImage3}}
        <img src="{{lesson.lessonImage3.url}}" alt="ãƒ¬ãƒƒã‚¹ãƒ³é¢¨æ™¯3" class="lesson-image">
        {{/if}}
    </div>
    {{/if}}
    
    <p class="lesson-intro-text">{{{nl2br lesson.lessonInfoText}}}</p>
    
    <!-- ç‰¹å…¸ã‚«ãƒ¼ãƒ‰ -->
    {{#if lesson.specialOfferTitle}}
    <div class="info-cards-container">
        <div class="info-card special-offer-card">
            <h3>{{lesson.specialOfferTitle}}</h3>
            <p>{{{nl2br lesson.specialOfferText}}}</p>
        </div>
        {{#if lesson.discountTitle}}
        <div class="info-card discount-card">
            <h3>{{lesson.discountTitle}}</h3>
            <p>{{{nl2br lesson.discountText}}}</p>
        </div>
        {{/if}}
    </div>
    {{/if}}
    
    <!-- æ–™é‡‘è¡¨ -->
    {{#if lesson.buildLesson}}
<h3>ãƒ¬ãƒƒã‚¹ãƒ³æ–™é‡‘</h3>
<div class="price-table-container">
    <table>
        <thead>
            <tr>
                <th>é …ç›®</th>
                <th>è©³ç´°</th>
                <th>æ–™é‡‘</th>
            </tr>
        </thead>
        <tbody>
            {{#each lesson.buildLesson}}
            {{#if isVisible}}
            <tr>
                <td>{{itemName}}</td>
                <td>{{itemDetail}}</td>
                <td>{{itemPrice}}</td>
            </tr>
            {{/if}}
            {{/each}}
        </tbody>
    </table>
</div>
    {{/if}}
    
    <!-- æ—¢å­˜ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒãƒªã‚·ãƒ¼ç­‰ã¯ãã®ã¾ã¾æ®‹ã™ -->

<h3>ãƒ¬ãƒƒã‚¹ãƒ³è¦ç´„ãƒ»ã‚µãƒãƒ¼ãƒˆ</h3>
<div class="lesson-details-container">
    {{#if termsAndSupport}}
        {{#each termsAndSupport}}
            {{#if this.isVisible}}
            <div class="news-accordion accordion-no-border">
                <div class="news-item-header" onclick="toggleAccordion('terms-{{@index}}')">
                    <p class="news-item">{{this.termsAndAidName}}</p>
                    <span class="accordion-icon">â–¼</span>
                </div>
                <div id="terms-{{@index}}" class="news-item-detail">
                    {{{nl2br this.termsAndAidDetail}}}
                </div>
            </div>
            {{/if}}
        {{/each}}
    {{else}}
        <p class="future-note">ç¾åœ¨ã€è¦ç´„ãƒ»ã‚µãƒãƒ¼ãƒˆæƒ…å ±ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
    {{/if}}
</div>

            <div class="lesson-contact-info">
                <h3>ãŠå•ã„åˆã‚ã›å…ˆ</h3>
                <p>é›»è©±ï¼š<a href="tel:{{lesson.contactPhone}}">{{lesson.contactPhone}}</a></p>
                <p>ãƒ¡ãƒ¼ãƒ«ï¼š<a href="mailto:{{lesson.contactEmail}}">{{lesson.contactEmail}}</a></p>
                <p class="future-note">{{lesson.contactFormNote}}</p>
            </div>
            
        </section>

<section id="profile" class="content-section" data-aos="fade-up">
    <h2>PROFILE</h2>
    <div class="profile-container">
        {{#if lesson.profileName}}
            <p class="profile-name">{{lesson.profileName}}</p>
            <p class="profile-quote">{{{nl2br lesson.profileTextArea}}}</p>
            
            {{#each lesson.profilet}}
            <h3>{{this.profileItemName}}</h3>
            <div class="profile-detail">
                {{{nl2br this.profiledetail}}}
            </div>
            {{/each}}
        {{else}}
            <p class="profile-name">ãƒ“ã‚§ãƒ³ã‚« / Bian Ge</p>
            <p class="profile-quote">ã€ŒéŸ³æ¥½ã¯ä¸–ç•Œã‚’å¤‰ãˆã‚‹ã€ã¨ã¯ã€ãƒ™ãƒ¼ãƒˆãƒ¼ãƒ´ã‚§ãƒ³ã®è¨€è‘‰ã§ã™ã€‚</p>
            <p class="future-note">â€»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’æº–å‚™ä¸­ã§ã™ã€‚</p>
        {{/if}}
    </div>
</section>

        <section id="contact" class="content-section" data-aos="fade-up">
            <h2>CONTACT</h2>
            <p class="contact-intro">ã”è³ªå•ã€ãŠä»•äº‹ã®ã”ä¾é ¼ã¯ã“ã¡ã‚‰ã‹ã‚‰ã€‚</p>

            <form id="contact-form" class="contact-form-skeleton" onsubmit="handleFormSubmit(event)">
                <label for="contact-type">ãŠå•ã„åˆã‚ã›ç¨®åˆ¥</label>
                <select id="contact-type" name="type" required>
                    <option value="">-- é¸æŠã—ã¦ãã ã•ã„ --</option>
                    <option value="lesson">ãƒ¬ãƒƒã‚¹ãƒ³ãƒ»ä½“é¨“ãƒ¬ãƒƒã‚¹ãƒ³ã«ã¤ã„ã¦</option>
                    <option value="job">ãŠä»•äº‹ï¼ˆæ¼”å¥ä¾é ¼ãƒ»ãƒ¡ãƒ‡ã‚£ã‚¢å‡ºæ¼”ãªã©ï¼‰</option>
                    <option value="other">ãã®ä»–ã®ãŠå•ã„åˆã‚ã›</option>
                </select>

                <label for="contact-name">ãŠåå‰</label>
                <input type="text" id="contact-name" name="name" required>

                <label for="contact-email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                <input type="email" id="contact-email" name="email" required>

                <label for="contact-message">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</label>
                <textarea id="contact-message" name="message" rows="5" required></textarea>

                <p class="response-note">
                    ãƒ©ã‚¤ãƒ–ã‚¤ãƒ™ãƒ³ãƒˆã‚„å‡ºæ¼”ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®éƒ½åˆã§ã€è¿”ä¿¡ã«æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆãŒã”ã–ã„ã¾ã™ã€‚ã”äº†æ‰¿ãã ã•ã„ã€‚
                </p>

                <button type="submit" id="submit-button">é€ä¿¡</button>
            </form>
            
            <div id="form-status-message" class="form-status-skeleton"></div>
        </section>

<section id="gallery" class="content-section" data-aos="fade-up">
    <h2>GALLERY</h2>
    
    {{#if lesson.galleryEvents}}
    <div class="gallery-accordion">
        {{#each lesson.galleryEvents}}
        {{#if this.isVisible}}
        <div class="gallery-event">
            <h3 class="gallery-event-title" onclick="toggleGalleryEvent(this)">
                <span class="gallery-arrow">â–¶</span>
                {{this.eventTitle}}
            </h3>
            <div class="gallery-event-images">
                {{#each this.images}}
                <img src="{{this.url}}" alt="{{../eventTitle}}" loading="lazy" class="gallery-clickable">
                {{/each}}
            </div>
        </div>
        {{/if}}
        {{/each}}
    </div>
    {{else}}
    <p style="text-align: center; padding: 40px 0;">
        ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã¯æº–å‚™ä¸­ã§ã™ã€‚
    </p>
    {{/if}}
</section>

<!-- ã‚®ãƒ£ãƒ©ãƒªãƒ¼ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="gallery-modal" class="gallery-modal" onclick="closeGalleryModal(event)">
    <span class="gallery-modal-close" onclick="closeGalleryModal()">&times;</span>
    <button class="gallery-modal-prev" onclick="changeGalleryImage(-1)">&#10094;</button>
    <button class="gallery-modal-next" onclick="changeGalleryImage(1)">&#10095;</button>
    <img id="gallery-modal-img" src="" alt="">
    <div id="gallery-modal-caption"></div>
</div>

        <!-- ã‚µã‚¤ãƒ‰NEWSå‘ŠçŸ¥ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
        <div id="side-news-overlay" style="{{applyStyle sideOverlayTextStyle 'sideOverlay'}}">
         {{#if sideOverlayText}}
            <p>{{sideOverlayText}}</p>
         {{else if latestLive}}
            <p>ğŸµ NEXT LIVE: {{formatDate latestLive.liveEventsDate}} {{latestLive.venue}}</p>
         {{else}}
            <p>ğŸµ æœ€æ–°æƒ…å ±ã‚’ãŠå¾…ã¡ãã ã•ã„</p>
         {{/if}}
        </div>
        
        <!-- LIVEæƒ…å ±ãƒˆãƒªã‚¬ãƒ¼ -->
{{#if latestLive}}
<div id="live-info-overlay" onclick="toggleLiveModal()">
    <div class="live-overlay-content">
        <span class="live-overlay-label">NEXT LIVE</span>
        <span class="live-overlay-date">{{formatDate latestLive.liveEventsDate}}</span>
        <span class="live-overlay-title">{{latestLive.liveEventsTitle}}</span>
        <span class="live-overlay-venue">{{latestLive.venue}}</span>
        <span class="live-overlay-status">{{#if (isArray latestLive.ticketStatus)}}{{firstItem latestLive.ticketStatus}}{{else}}{{latestLive.ticketStatus}}{{/if}}</span>
    </div>
</div>
{{/if}}

        <!-- BGMã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
        <div id="bgm-control-overlay">
            <div id="bgm-track-info">
                <span id="bgm-track-name">BGMæœªé¸æŠ</span>
            </div>
            <div id="bgm-controls-row">
                <button id="bgm-toggle" onclick="toggleBGM()" title="BGM ON/OFF">
                    <span id="bgm-icon">ğŸ”‡</span>
                </button>
                <div id="bgm-volume-container">
                    <input type="range" id="bgm-volume" min="0" max="100" value="30" oninput="adjustVolume(this.value)">
                    <span id="volume-percentage">30%</span>
                </div>
            </div>
        </div>

        <!-- BGMã‚ªãƒ¼ãƒ‡ã‚£ã‚ªè¦ç´  -->
        <audio id="bgm-audio" loop preload="metadata">
            <source src="./audio/background_music.mp3" type="audio/mpeg">
            <source src="./audio/background_music.wav" type="audio/wav">
        </audio>

        <!-- LIVEè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« -->
{{#if latestLive}}
<div id="live-detail-modal" onclick="toggleLiveModal(event)">
    <div class="modal-content live-card-modal" onclick="event.stopPropagation()">
        <button class="modal-close" onclick="toggleLiveModal()">Ã—</button>
        
        <!-- ãƒ©ã‚¤ãƒ–åŸºæœ¬æƒ…å ± -->
        <div class="modal-live-info">
            <h3 class="modal-live-title">{{latestLive.liveEventsTitle}}</h3>
            <p class="modal-live-date">{{formatDate latestLive.liveEventsDate}}</p>
            <p class="modal-live-venue">{{latestLive.venue}}</p>
        </div>

        <!-- LIVEè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« flyer1,2 ä¸¡é¢è¡¨ç¤º-->
        <div class="modal-flyer-dual">
            <div class="flyer-side">
                <img src="{{latestLive.liveFlyer1.url}}" alt="ãƒ©ã‚¤ãƒ–ãƒ•ãƒ©ã‚¤ãƒ¤ãƒ¼ è¡¨é¢" class="live-flyer">
                <p class="flyer-caption"></p>
            </div>
            {{#if latestLive.liveFlyer2}}
            <div class="flyer-side">
                <img src="{{latestLive.liveFlyer2.url}}" alt="ãƒ©ã‚¤ãƒ–ãƒ•ãƒ©ã‚¤ãƒ¤ãƒ¼ è£é¢" class="live-flyer">
                <p class="flyer-caption"></p>
            </div>
            {{/if}}
        </div>

        {{#if latestLive.pdfFileUrl}}
        <p class="future-note pdf-link-note">
            <a href="{{latestLive.pdfFileUrl}}" target="_blank">
                ã€A4ãƒ•ãƒ©ã‚¤ãƒ¤ãƒ¼ä¸¡é¢ PDFç‰ˆã€‘ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»é–²è¦§ã™ã‚‹
            </a>
        </p>
        {{/if}}

        <a href="#live" onclick="toggleLiveModal()">
            <div class="reserve-button">{{latestLive.reserveButtonText}}</div> 
        </a>
    </div>
</div>
{{/if}}
    </div>

    <footer>
        <p>&copy; 2025 BIANGE Official Site. All Rights Reserved.</p>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="script.js"></script>
</body>
</html>